<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <title>Dress Rental Product Viewing</title>
  </head>
  <body>

  </div>
</div>
<div class="container-fluid p-5 bg-dark text-center">
  <h1 class="text-info">Serenity Dress Rental</h1>
  <h4 class="text-secondary"> (Viewing) </h4>
  <div class="">
    <a
      href="index.html"
      class="btn btn-info text-dark fw-bold"
      id="logout"
      style="white-space: nowrap"
    >
      Log Out</a>

      
</div>
</div>
<div class="container mt-3 text-center">
 <h1 class="text-info"> ⟡ ⟡ ⟡ </h1>

</head>
<body>

<div class="container-fluid">

        <table class="table table-striped table-bordered">
          <thead class="table-info text-dark">
            <th class="text-center">No.</th>
            <th class="text-center">Date</th>
            <th class="text-center">Dress ID</th>
            <th class="text-center">Full Name</th>
            <th class="text-center">Address</th>
            <th class="text-center">Mobile No.</th>
            <th class="text-center">Color</th>
            <th class="text-center">Size</th>
            <th class="text-center">Return By</th>
            <th class="text-center">Status</th>
          </thead>
          <tbody id="tbody1"></tbody>

</div>
<script type="module">

  

  
// ---------------- FILLING THE TABLE -----------------------------------------------------//

 var OrdNo = 0;
 var tbody = document.getElementById ('tbody');

 function AddItemToTable ( date, dressid, fullname, address, mobileno, color, size, returnby, status) {
    let trow = document.createElement("trow");
    let td1 = documeny.createElement('td');
    let td2 = documeny.createElement('td');
    let td3 = documeny.createElement('td');
    let td4 = documeny.createElement('td');
    let td5 = documeny.createElement('td');
    let td6 = documeny.createElement('td');
    let td7 = documeny.createElement('td');
    let td8 = documeny.createElement('td');
    let td9 = documeny.createElement('td');
    let td10 = documeny.createElement('td');

    td1.innerHTML = ++OrdNo
    td2.innerHTML = date;
    td3.innerHTML = dressid;
    td4.innerHTML = fullname;
    td5.innerHTML = address;
    td6.innerHTML = mobileno;
    td7.innerHTML = color;
    td8.innerHTML = size;
    td9.innerHTML = returnby;
    td10.innerHTML = status;

    trow.appendChild(td1);
    trow.appendChild(td2);
    trow.appendChild(td3);
    trow.appendChild(td4);
    trow.appendChild(td5);
    trow.appendChild(td6);
    trow.appendChild(td7);
    trow.appendChild(td8);
    trow.appendChild(td9);
    trow.appendChild(td10);

    tbody.appendChild(trow);

 }

    function AddAllItemsToTable(DressRental){
        OrdNo=0;
        tbody.innerHTML="";
        DressRental.forEach(element => {
            AddAllItemToTable(element.Date,
            element.DressID,
            element.FullName,
            element.Address,
            element.Mobileno, 
            element.Color,
            element.Size,
            element.ReturnBy,
            element.Status)
            
        });


    }

    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCJf4rVDj2fiURRaDmjpq3f-J7TX_gxBwo",
    authDomain: "logindressrental.firebaseapp.com",
    databaseURL: "https://logindressrental-default-rtdb.firebaseio.com",
    projectId: "logindressrental",
    storageBucket: "logindressrental.appspot.com",
    messagingSenderId: "416669143420",
    appId: "1:416669143420:web:64e6a2cbf84bdb505894f9"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  import { getDatabase, ref, child, onValue, get, }
   from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";

   const db = getDatabase();

     function GetAllDataRealtime() {
    const dbRef = ref (db,"DressRental");


    onValue(dbRef,(snapshot)=>{

        var dress=[];
        snapshot.forEach(childSnapshot => {
            dress.push(childSnapshot.val());

        });

AddAllItemsToTable(dress);


    })

    

}

     
window.onload = GetAllDataRealtime;






</script>
</body>
</html>
